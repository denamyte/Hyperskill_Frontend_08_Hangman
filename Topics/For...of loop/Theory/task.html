<h2>For...of loop</h2>
<div class="step-text">
<p></p><p>The <code class="language-javascript">for</code> loop in JavaScript is the most flexible, but not the most convenient loop. To use it to iterate over all elements of the iterated object, we need to set the counter, the rules for changing it, and the conditions for stopping. In JavaScript, there is a higher-level <code class="language-javascript">for…of</code> loop to iterate over iterable objects. It allows us to avoid writing extra code. The code in this case has similar functionality, but it turns out cleaner and more readable.</p>
<h5 id="iterating-with-forof">Iterating with For…of</h5>
<p>The <code class="language-javascript">for…of</code> statement loops through iterable loops. It iterates over each element of the iterable object and executes the body of the loop. Iterable objects in JavaScript are <code class="language-javascript">Array</code>, <code class="language-javascript">Set</code>, <code class="language-javascript">Map</code>, <code class="language-javascript">String</code>, and so on.</p>
<p><code class="language-javascript">For…of</code> loop, when iterating over an iterable object, allows us not to think about anything other than the body of the loop and not write extra code. But it's a highly specialized loop. For example, if we need to loop through an array in reverse order, starting from the last element, then the <code class="language-javascript">for...of</code> loop will not work for us. Also, the <code class="language-javascript">for...of</code> loop won't do if we need to iterate over not every element of the array but, for example, every second one, because the <code class="language-javascript">for...of</code> loop iterates over each element.</p>
<p><strong>Iterating over an Array and String</strong></p>
<p>Since an <code class="language-javascript">array</code> is a classic example of an iterable object, we can iterate over it with a <code class="language-javascript">for…of</code> loop.</p>
<pre><code class="language-javascript">const carsList = ['Bmw', 'Pejo', 'Ferrari'];
for (const car of carsList) {
  console.log(car);
}
// 'Bmw'
// 'Pejo'
// 'Ferrari'</code></pre>
<p>The <code class="language-javascript">for...of</code> loop needs to be handled with care, just like any other loop. We can mistakenly get into an infinite loop since iteration with <code class="language-javascript">for...of</code> loop happens "live". This means that any changes we make to the iterable can affect its outcome.</p>
<pre><code class="language-javascript">// we get an error or an infinite loop

const myArray = [1,2,3];

for(let item of myArray) {
  myArray.push('new');
}</code></pre>
<p>A <code class="language-javascript">string</code> is an iterable object. While not obvious, a string is not much different from an array in JavaScript. For a <code class="language-javascript">for…of</code> loop, a string is the same array with ordered elements, the elements of which are its letters.</p>
<pre><code class="language-javascript">const word = "code";
for (const letter of word) {
  console.log(letter);
}
// "c"
// "o"
// "d"
// "e"</code></pre>
<p><strong>Iteration over a Set and Map</strong></p>
<p>A built-in <code class="language-javascript">set</code> object is also iterable. When iterating over a set, the body of the loop is executed once for each element.</p>
<pre><code class="language-javascript">const cart = new Set(['Milk', 'Cheese', 'Carrot']);
for (const food of cart) {
  console.log(food);
}
// 'Milk'
// 'Cheese'
// 'Carrot'</code></pre>
<p>A built-in <code class="language-javascript">map</code> object is an iterable object in JavaScript. A map is iterated over key/value pairs. So each time the iterator returns an array where the first element is the key and the second is the value.</p>
<pre><code class="language-javascript">const wears = new Map([["T-short", 'XL'], ["Cap", 'L'], ["Shoes", '42']]);

for (const [key, value] of map) {
  console.log(key, value);
}
// 'T-short' 'XL'
// 'Cap' 'L'
// 'Shoes' '42'</code></pre>
<p><strong>Iterating over arguments in functions</strong></p>
<p>The <code class="language-javascript">arguments</code> object in functions is also an iterable object.</p>
<pre><code class="language-javascript">function myFunc() {
  for (let class of arguments) {
    console.log(class);
  }
}

myFunc('Chemistry', 'English', 'Mathematics');

// Chemistry
// English
// Mathematics</code></pre>
<p><strong>Iterating over an object with for...of</strong></p>
<p>In JavaScript, by default, an <code class="language-javascript">object</code> is not iterable. An <code class="language-javascript">object</code> of the class <code class="language-javascript">object</code> is not iterable. If we try to iterate over it with the <code class="language-javascript">for…of</code> loop, we'll get an error.</p>
<p><picture><source media="(max-width: 480px)" srcset="https://ucarecdn.com/ee032fd1-3801-433a-b6aa-cf1fcabd5e1d/-/stretch/off/-/resize/480x/-/format/webp/ 1x,https://ucarecdn.com/ee032fd1-3801-433a-b6aa-cf1fcabd5e1d/-/stretch/off/-/resize/960x/-/format/webp/ 2x,https://ucarecdn.com/ee032fd1-3801-433a-b6aa-cf1fcabd5e1d/-/stretch/off/-/resize/1440x/-/format/webp/ 3x" type="image/webp"/><source media="(max-width: 800px)" srcset="https://ucarecdn.com/ee032fd1-3801-433a-b6aa-cf1fcabd5e1d/-/stretch/off/-/resize/800x/-/format/webp/ 1x,https://ucarecdn.com/ee032fd1-3801-433a-b6aa-cf1fcabd5e1d/-/stretch/off/-/resize/1600x/-/format/webp/ 2x,https://ucarecdn.com/ee032fd1-3801-433a-b6aa-cf1fcabd5e1d/-/stretch/off/-/resize/2400x/-/format/webp/ 3x" type="image/webp"/><source srcset="https://ucarecdn.com/ee032fd1-3801-433a-b6aa-cf1fcabd5e1d/-/stretch/off/-/resize/1100x/-/format/webp/ 1x,https://ucarecdn.com/ee032fd1-3801-433a-b6aa-cf1fcabd5e1d/-/stretch/off/-/resize/2200x/-/format/webp/ 2x,https://ucarecdn.com/ee032fd1-3801-433a-b6aa-cf1fcabd5e1d/-/stretch/off/-/resize/3000x/-/format/webp/ 3x" type="image/webp"/><img alt="Uncaught TypeError" height="116" name="image.png" src="https://ucarecdn.com/ee032fd1-3801-433a-b6aa-cf1fcabd5e1d/" width="315"/></picture></p>
<p>If we need to iterate over the properties of an object, then for these purposes we can use the <code class="language-javascript">for…in</code> loop specially designed for this. However, if for some reason it is mandatory to use <code class="language-javascript">for…of</code> to iterate over an object, then <code class="language-javascript">for…of</code> should be used with the <code class="language-javascript">Object.entries()</code> method. <code class="language-javascript">Object.entries()</code> returns an array of the object's keys and the object`s values. With the help of destructuring assignment, we can access this array.</p>
<pre><code class="language-javascript">const obj = { a: 1, b: 2, c: 3 };

//if we need only keys

for (const key of Object.keys(obj)) {
  console.log(key);
}

//if we need only values

for (const value of Object.values(obj)) {
  console.log(value);
}

//if we need keys and values both

for (const [key, value] of Object.entries(obj)) {
  console.log(key, value);
}</code></pre>
<h5 id="break-and-continue">Break and continue</h5>
<p>The <code class="language-javascript">break</code> and <code class="language-javascript">continue</code> statements in <code class="language-javascript">for…of</code> loops work exactly the same way as they do in the <code class="language-javascript">for</code> loop. So with <code class="language-javascript">break</code> we can exit the loop.</p>
<pre><code class="language-javascript">const arr = [1, 2, 3, 4, 5];
for (const element of arr) {
  if (element === 4) {
    break;
  }
  console.log(element);
}
// 1
// 2
// 3
</code></pre>
<p>With <code class="language-javascript">continue</code> we can skip the iteration.</p>
<pre><code class="language-javascript">const arr = [1, 2, 3];
for (const element of arr) {
  if (element === 2) {
    continue;
  }
  console.log(element);
}
// 1
// 3
</code></pre>
<h5 id="conclusion">Conclusion</h5>
<p>The <code class="language-javascript">for…of</code> loop is a highly specialized loop for iterating over such iterable objects as <code class="language-javascript">array</code>, <code class="language-javascript">set</code>, <code class="language-javascript">map</code>, <code class="language-javascript">string</code>, and so on. The <code class="language-javascript">for…of</code> loop executes the body of the loop for each element of the iterable and ends iterating over it at the last element. If we try to iterate over an object with the <code class="language-javascript">for…of</code> loop, we'll get an error, but by turning the object into an array with <code class="language-javascript">Object.keys()</code>, <code class="language-javascript">Object.values()</code>, or <code class="language-javascript">Object.entries()</code> we can iterate over it. We can skip one iteration of the <code class="language-javascript">for…of</code> loop with <code class="language-javascript">continue</code> or break it with <code class="language-javascript">break</code>, just like in the <code class="language-javascript">for</code> loop.</p>
</div>
